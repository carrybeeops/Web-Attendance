<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Employee Check-In</title>
</head>
<body>
  <h2>Employee Attendance</h2>

  <label>Employee Name:</label>
  <input type="text" id="name" placeholder="Enter name"><br>

  <label>Employee ID:</label>
  <input type="text" id="id" placeholder="Enter ID"><br>

  <button onclick="submitAttendance('Check In')">Check In</button>
  <button onclick="submitAttendance('Check Out')">Check Out</button>

  <p id="response"></p>

  <script>
    function submitAttendance(action) {
      const name = document.getElementById("name").value;
      const id = document.getElementById("id").value;

      if (!name || !id) {
        alert("Please fill in both fields.");
        return;
      }

      navigator.geolocation.getCurrentPosition(function(position) {
        const location = `${position.coords.latitude},${position.coords.longitude}`;

        fetch("https://script.google.com/macros/s/AKfycbzCQy68HApjZq5P7foc80gsZjn_VrZnN5H9tfPA7pi0w1c8xSxQD8V8Tx5Klq742_4G/exec", {
          method: "POST",
          mode: "no-cors",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            name: name,
            id: id,
            action: action,
            location: location
          })
        });

        document.getElementById("response").innerText = `${action} request sent!`;
      }, function(error) {
        alert("Location error: " + error.message);
      });
    }
  </script>
</body>
</html>
